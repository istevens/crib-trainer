<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://www.google-analytics.com">
    <title>Crib Trainer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
    <meta name="description" content="A game to help people practice scoring cribbage hands so they have an advantage when playing the game with others." />
    <meta name="author" content="Ian Stevens" />
    <script defer type="module" src="src/components/index.js"></script>
    <script defer type="module" src="src/cribbage_trainer.js"></script>
    <script defer type="module" src="cardmeister.github.io/elements.cardmeister.min.js"></script>

    <!-- Use the single stylesheet link for Google Fonts (display=swap) to avoid duplicate fetch/timing issues -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;700&display=swap">
    <link rel="stylesheet" href="style.css"/>
    <link rel="manifest" href="manifest.json"/> 
</head>
<body>
    <div id="cribtrainer" class="stacked">
        <h1><a href="#" tabindex="0">Crib Trainer</a></h1>

        <section id="start" class="stacked view activeContent">
            <h2>Improve your cribbage hand scoring with this training game.</h2>
            <nav class="stacked">
                <a role="button" class="primary" href="#play" autofocus tabindex="0">Play</a>
                <button class="aboutButton" command="show-modal" commandfor="about" tabindex="0">About</button>
                <button class="scoringButton" command="show-modal" commandfor="scoring" tabindex="0">Scoring</button>
            </nav>
        </section>

        <section id="play" class="stacked view">
            <score-board id="scoreboard" class="stacked" successes=0 failures=0></score-board>
            <cribbage-cards id="cards" class="stacked" cut_card_class="hidden"></cribbage-cards>

            <nav class="stacked">
                <score-select role="select" id="scoreSelect" min="0" max="29" autofocus tabindex="0"></score-select>
                <button class="scoringButton" command="show-modal" commandfor="scoring">Scoring</button>
            </nav>
        </section>

        <custom-dialog role="dialog" id="about" title="About this game">
            <p>Scoring cribbage hands can be tricky, especially if you're new
            to the game. You <em>could</em> use a scoring app, but
            knowing how to score in your head is a real advantage when you assess your discards.</p>
            <p>This game drills you on scoring cribbage hands, provides
            an explainer if you're wrong, and keeps track of your success rate.</p>
            <p>If you're interested in learning more, read my post on my dev blog.</p>
        </custom-dialog>
        <scoring-dialog role="dialog" id="scoring" title="Hand scoring guide">
            <p>Add tricks to score a hand:</p>
        </scoring-dialog>
        <tricks-dialog role="dialog" id="tricks"></tricks-dialog>

        <score-overlay id="selectedScore"></score-overlay>
        <analytics-tracking gid="G-8JTHR1K2WP"></analytics-tracking>
    </div>

</body>
</html>